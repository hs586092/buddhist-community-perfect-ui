# ğŸª· Buddhist Community - ê°„ë‹¨í•œ ìë™ ë°°í¬
name: Simple Deploy to Amplify

on:
  push:
    branches: [ main, master ]

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸª· ì½”ë“œ ì²´í¬ì•„ì›ƒ
      uses: actions/checkout@v4
      
    - name: ğŸ“¦ Node.js 18 ì„¤ì •
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm'
        
    - name: ğŸ”§ íŒ¨í‚¤ì§€ ì„¤ì¹˜
      run: |
        echo "ğŸ›ï¸ ë¶ˆêµ ì»¤ë®¤ë‹ˆí‹° ì˜ì¡´ì„± ì„¤ì¹˜ ì¤‘..."
        npm ci
        
    - name: ğŸ—ï¸ ë¹Œë“œ í…ŒìŠ¤íŠ¸
      run: |
        echo "ğŸŒ¸ ë¹Œë“œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."
        npm run build
        
    - name: ğŸ“Š ë¹Œë“œ ê²€ì¦
      run: |
        echo "âœ… ë¹Œë“œ ì„±ê³µ! íŒŒì¼ í™•ì¸:"
        ls -la dist/
        echo "ğŸ“„ index.html ì¡´ì¬ í™•ì¸:"
        test -f dist/index.html && echo "âœ… index.html ì¡´ì¬" || echo "âŒ index.html ì—†ìŒ"
        echo "ğŸ”„ _redirects ì¡´ì¬ í™•ì¸:"
        test -f dist/_redirects && echo "âœ… _redirects ì¡´ì¬" || echo "âŒ _redirects ì—†ìŒ"
        
    - name: ğŸ‰ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ
      run: |
        echo "ğŸª· ëª¨ë“  ê²€ì¦ ì™„ë£Œ! Amplifyê°€ ìë™ìœ¼ë¡œ ë°°í¬í•©ë‹ˆë‹¤."
        echo "ë°°í¬ URLì„ í™•ì¸í•˜ì„¸ìš”: AWS Amplify Console"